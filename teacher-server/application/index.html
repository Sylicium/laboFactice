<!DOCTYPE html>
<html class="focus-outline-visible" lang="fr">
<head>
    <title>LaboFactice - Teacher</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/basicCss.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/global/toasting.css">
</head>

<body>

    <div id="toasting" style="position: absolute;"></div>

    <div id="mainbox">

        <div id="loadingbox" hidden>
            <div id="loadingboxCodeBackground" class="code">
            </div>
            <div class="loading_mid_popup bcss-centerdiv bcss-centercontentdivmiddle">
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
    
                    <div class="loading_logo" style="
                    width:50px;
                    height:50px;
                    padding: 10px;
                    margin: 5px;
                    border: 3px solid transparent;
                    border-top: 3px solid white;
                    border-radius: 100%;
                    animation-name: loading_logo;
                    animation-duration: 1s;
                    animation-iteration-count: infinite;
                    animation-timing-function: linear;
                    "></div>
                    <h2 id="loadingboxText">Chargement ...</h2>
                    <button class="bcss-b-prim" onclick="window.location.reload()">Recharger</button>
                </div>
            </div>
        </div>


        <div id="loginbox" hidden>
            <div class="bcss-centercontentdivmiddle">
                <div class="login_center_box bcss-centerdiv">
                    <button class="bcss-b-simple" style="margin:0px;" onclick="openConfigFile()">Configuration</button>
                    <h1 class="title">LaboFactice | Teacher</h1>
                    <input id="login_identifiant" class="bcss-input1" placeholder="Identifiant" onkeypress="makeLoginKeyDown(event)">
                    <input id="login_password" class="bcss-input1" placeholder="Mot de passe" type="password" onkeypress="makeLoginKeyDown(event)">
                    <button class="bcss-b-simple" style="margin: 0px auto;margin-top: 10px;" onclick="makeLogin()">Se connecter</button>
                    <div class="buttons">
                    </div>
                </div>
            </div>
        </div>


        <div id="addLesson" hidden>
            <div class="bcss-centercontentdivmiddle">
                <div class="addLesson_center_box bcss-centerdiv">
                    <button class="bcss-b-simple-danger" style="margin:0px;" onclick="LaboFactice.closeAddLeconPopup()">Annuler</button>
                    <h2 class="title">LaboFactice | Ajouter une leçon</h2>
                    <input id="addLesson_lessonName" class="bcss-input1" placeholder="Nom de la leçon">
                    <input id="addLesson_lessonClassName" class="bcss-input1" placeholder="Classe (facultatif)">
                    <input id="addLesson_lessonYoutubeLink" class="bcss-input1" placeholder="URL de la vidéo youtube">
                    <textarea id="addLesson_lessonText" class="bcss-textarea1" placeholder="Texte explicatif"></textarea>
                    <button class="bcss-b-simple" style="margin: 0px auto;margin-top: 10px;" onclick="LaboFactice.sendAddLesson()">Ajouter</button>
                </div>
            </div>
        </div>



        <div id="application">

            <div class="menu">
                <div class="box">
                    <div class="lessons" onclick="LaboFactice.selectMenu('lessons')">
                        <h2>Modifier les leçons</h2>
                    </div>
                    <div class="startSession" onclick="LaboFactice.selectMenu('startSession')">
                        <h2>Commencer une session</h2>
                    </div>
                    <div class="sessionHistory" onclick="LaboFactice.selectMenu('sessionHistory')">
                        <h2>Historique des sessions</h2>
                    </div>
                    <div class="sessionHistory" onclick="LaboFactice.selectMenu('inSession')">
                        <h2>En session des sessions</h2>
                    </div>
                    <div class="connectedUsersList" onclick="LaboFactice.selectMenu('connectedUsersList')">
                        <h2>Liste des utilisateurs connectés</h2>
                    </div>
                </div>
            </div>

            <div class="app" hidden>
                <div class="lessons">
                    <button class="bcss-b-simple" onclick="LaboFactice.goToMenu()">Menu</button>
                    <div id="lessonList" class="lessonList">
                        <!--
                        <div class="lesson">
                            <div class="UUID">20539309853</div>
                            <div class="name">Leçon 1</div>
                            <div class="youtubeLink"><a href="#">https://youtube.com</a></div>
                            <div class="text">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolores vero dolorem et, quia consequatur sunt ducimus accusamus eius quo aliquid? Commodi ratione placeat molestias, obcaecati, expedita fuga fugiat molestiae doloribus aliquid assumenda corrupti consectetur nesciunt deserunt minus? Iusto, nisi ab aperiam beatae nulla soluta laboriosam obcaecati quae? Cumque repellat labore at quidem natus fugiat non odit, vitae eligendi placeat fuga ipsam ducimus, animi, maiores explicabo autem magni corporis perspiciatis? Veritatis minima animi sit sint beatae odio distinctio iure sunt pariatur dolores, quaerat tempore voluptatum architecto quibusdam est harum quisquam cumque et quos nam rerum aliquid tenetur modi? Ad, aut animi.</div>
                            <button class="bcss-b-simple-danger">Supprimer</button>
                        </div>-->
                        
                        <div class="lesson">
                            <div class="UUID">Identifiant</div>
                            <div class="name">Nom de la leçon</div>
                            <div class="class">Classe</div>
                            <div class="youtubeLink"><a href="#">URL d'une vidéo youtube</a></div>
                            <div class="text">Text explicatif pour la leçon</div>
                        </div>
                    </div>
                    <div class="buttons">
                        <button class="bcss-b-simple" onclick="LaboFactice.openAddLeconPopup()">Ajouter une leçon</button>
                    </div>
                </div>
                <div class="startSession" hidden>
                    <button class="bcss-b-simple" onclick="LaboFactice.goToMenu()">Menu</button>
                    <h2>Commencer une session: Selectionnez une leçon</h2>
                    <div id="lessonList_startSession" class="lessonList">

                    </div>
                </div>
                <div class="inSession" hidden>
                    <div class="flex">
                        <div class="left">
                            <div id="inSession_computer_canva" class="classCanva" style="position:relative;">
                                <!-- <div id="computer_name_1" class="computer hovertext noselect">32
                                    <div class="content">
                                        <span><span class="studentLastname">BARREAU</span> <span class="studentFirstname">Jean</span></span>
                                        <span class="recordBar"><span class="recordTime">00:00:00</span> <span class="inRecordMention">• (Recording)</span></span>
                                        <span><span class="recordCount">0</span> Enregistrements</span>
                                        <span><span class="computerName">PC: computerName</span></span>
                                    </div>
                                </div>
                                <div id="computer_name_2" class="computer hovertext noselect" style="top:60px;left: 40px;">33
                                    <div class="content">
                                        <span><span class="studentLastname">BARREAU</span> <span class="studentFirstname">Jean</span></span>
                                        <span class="recordBar"><span class="recordTime">00:00:00</span> <span class="inRecordMention">• (Recording)</span></span>
                                        <span><span class="recordCount">0</span> Enregistrements</span>
                                        <span><span class="computerName">PC: computerName</span></span>
                                    </div>
                                </div>
                                -->
                            </div>
                            <button class="bcss-b-simple" onclick='LaboFactice.CanvaComputersFunctions.makeCanvaDraggable(document.getElementById("inSession_computer_canva"))'>Modifier</button>
                            <button class="bcss-b-simple" onclick='LaboFactice.CanvaComputersFunctions.stopCanvaDraggable(document.getElementById("inSession_computer_canva"))'>Arrêter de modifier</button>
                            <button class="bcss-b-simple-success" onclick='LaboFactice.CanvaComputersFunctions.stopCanvaDraggable(document.getElementById("inSession_computer_canva"), true)'>Sauvegarder</button>
                            <button class="bcss-b-simple" onclick="LaboFactice.importConnectedComputersAndSave()">Import connected computers and save them to config</button>
                            <button class="bcss-b-simple" onclick="LaboFactice.displayComputerNamePages()">Afficher le nom des ordinateurs sur les écrans</button>
                            <button class="bcss-b-simple-danger" onclick="LaboFactice.stopSession()">Terminer la session</button>
                            
                        </div>
                        <div class="right">
    
                        </div>
                    </div>
                </div>
                <div class="sessionHistory" hidden>
                    <h2>Historique des sessions</h2>
                </div>
                <div class="connectedUsersList" hidden>
                    <button class="bcss-b-simple" onclick="LaboFactice.goToMenu()">Menu</button>
                    <h2>Utilisateurs connectés:</h2>

                    <table id="connectedUsersList_listElement">
                        <thead> </thead>
                        <tbody id="connectedUsersList_tbody">
                            <tr class="user">
                                <td class="birthday"><b>Date de naissance</b></td>
                                <td class="lastname"><b>Nom</b></td>
                                <td class="firstname"><b>Prénom</b></td>
                            </tr>
                        </tbody>
                    </table>


                </div>
            </div>


        </div>

    </div>
    
    
    
    
    

    <script src="./scripts/global/toasting.js"></script>
    <script src="./scripts/Logger.js"></script>
    <script src="./scripts/BasicF.js"></script>
  <script> 
   
    function requestMicrophone() {
        chrome.contentSettings.microphone.set({
            primaryPattern:"https://webcammictest.com/*", 
            scope: "regular", 
            setting: "allow" // set to "ask" to trigger the native permission prompt again
        });
        // to query the current state
        chrome.contentSettings.microphone.get(
            {primaryUrl:"https://webcammictest.com/*"}, 
            ({setting}) => console.log(setting)
        );
        // or
        navigator.permissions.query({name: "microphone"})
        .then(({state}) => { console.log(state); })
    
    }
  </script>
  
  <script src="./scripts/socketServer.js"></script>
  <script src="./scripts/index.js"></script>
</body>

</html>